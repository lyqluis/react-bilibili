import{V as e,aZ as t,K as n,M as r}from"./index-5222d580.js";import{B as i,I as o}from"./input-b261d64e.js";const u=window.React;function a(e){return u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),u.createElement("g",{id:"AddOutline-AddOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},u.createElement("g",{id:"AddOutline-add"},u.createElement("rect",{id:"AddOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),u.createElement("path",{d:"M25.1,6.5 C25.3209139,6.5 25.5,6.6790861 25.5,6.9 L25.5,22.5 L41.1,22.5 C41.3209139,22.5 41.5,22.6790861 41.5,22.9 L41.5,25.1 C41.5,25.3209139 41.3209139,25.5 41.1,25.5 L25.5,25.5 L25.5,41.1 C25.5,41.3209139 25.3209139,41.5 25.1,41.5 L22.9,41.5 C22.6790861,41.5 22.5,41.3209139 22.5,41.1 L22.5,25.5 L6.9,25.5 C6.6790861,25.5 6.5,25.3209139 6.5,25.1 L6.5,22.9 C6.5,22.6790861 6.6790861,22.5 6.9,22.5 L22.5,22.5 L22.5,6.9 C22.5,6.6790861 22.6790861,6.5 22.9,6.5 L25.1,6.5 Z",id:"AddOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}const l=window.React;function s(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),l.createElement("g",{id:"MinusOutline-MinusOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.createElement("g",{id:"MinusOutline-add"},l.createElement("rect",{id:"MinusOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),l.createElement("path",{d:"M41.1,22.5 C41.3209139,22.5 41.5,22.6790861 41.5,22.9 L41.5,25.1 C41.5,25.3209139 41.3209139,25.5 41.1,25.5 L6.9,25.5 C6.6790861,25.5 6.5,25.3209139 6.5,25.1 L6.5,22.9 C6.5,22.6790861 6.6790861,22.5 6.9,22.5 L41.1,22.5 Z",id:"MinusOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var g={},y={get exports(){return g},set exports(e){g=e}},h={};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}({get exports(){return h},set exports(e){h=e}}),function(e){var t=h.default;function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}e.exports=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!==t(e)&&"function"!=typeof e)return{default:e};var i=n(r);if(i&&i.has(e))return i.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=u?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,i&&i.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports}(y);var b,S={};function w(){return"function"==typeof BigInt}function N(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),o=i[0]||"0",u=i[1]||"0";"0"===o&&"0"===u&&(n=!1);var a=n?"-":"";return{negative:n,negativeStr:a,trimStr:r,integerStr:o,decimalStr:u,fullStr:"".concat(a).concat(r)}}function x(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function E(e){var t=String(e);if(x(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return null!=r&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&M(t)?t.length-t.indexOf(".")-1:0}function _(e){var t=String(e);if(x(e)){if(e>Number.MAX_SAFE_INTEGER)return String(w()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(w()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(E(t))}return N(t).fullStr}function M(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}function k(e){return!e&&0!==e&&!Number.isNaN(e)||!String(e).trim()}(b={get exports(){return S},set exports(e){S=e}}).exports=function(e){return e&&e.__esModule?e:{default:e}},b.exports.__esModule=!0,b.exports.default=b.exports;var O=function(){function e(t){v(this,e),d(this,"origin",""),d(this,"number",void 0),d(this,"empty",void 0),k(t)?this.empty=!0:(this.origin=String(t),this.number=Number(t))}return m(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(E(this.number),E(n));return new e(r.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":_(this.number):this.origin}}]),e}(),I=function(){function e(t){if(v(this,e),d(this,"origin",""),d(this,"negative",void 0),d(this,"integer",void 0),d(this,"decimal",void 0),d(this,"decimalLen",void 0),d(this,"empty",void 0),d(this,"nan",void 0),k(t))this.empty=!0;else if(this.origin=String(t),"-"===t||Number.isNaN(t))this.nan=!0;else{var n=t;if(x(n)&&(n=Number(n)),M(n="string"==typeof n?n:_(n))){var r=N(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var o=i[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}}return m(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),i=N((this.alignDecimal(r)+n.alignDecimal(r)).toString()),o=i.negativeStr,u=i.trimStr,a="".concat(o).concat(u.padStart(r+1,"0"));return new e("".concat(a.slice(0,-r),".").concat(a.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":N("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function j(e){return w()?new I(e):new O(e)}function R(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var i=N(e),o=i.negativeStr,u=i.integerStr,a=i.decimalStr,l="".concat(t).concat(a),s="".concat(o).concat(u);if(n>=0){var c=Number(a[n]);return c>=5&&!r?R(j(e).add("".concat(o,"0.").concat("0".repeat(n)).concat(10-c)).toString(),t,n,r):0===n?s:"".concat(s).concat(t).concat(a.padEnd(n,"0").slice(0,n))}return".0"===l?s:"".concat(s).concat(l)}var A={},F={},L={get exports(){return F},set exports(e){F=e}},C={};!function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}({get exports(){return C},set exports(e){C=e}});var P={};!function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,u,a=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(c){s=!0,i=c}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports}({get exports(){return P},set exports(e){P=e}});var B={},$={get exports(){return B},set exports(e){B=e}},T={};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}({get exports(){return T},set exports(e){T=e}}),function(e){var t=T;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}($);var D={};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}({get exports(){return D},set exports(e){D=e}}),function(e){var t=C,n=P,r=B,i=D;e.exports=function(e,o){return t(e)||n(e,o)||r(e,o)||i()},e.exports.__esModule=!0,e.exports.default=e.exports}(L);var G={},W=g.default;Object.defineProperty(G,"__esModule",{value:!0}),G.default=function(e){var t=q.useRef();return t.current=e,q.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[])};var q=W(window.React);var X={},U={};Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)};var V=S.default,Z=g.default;Object.defineProperty(X,"__esModule",{value:!0}),X.useLayoutUpdateEffect=X.default=void 0;var z=Z(window.React),H=(0,V(U).default)()?z.useLayoutEffect:z.useEffect,K=H;X.default=K;X.useLayoutUpdateEffect=function(e,t){var n=z.useRef(!0);H((function(){if(!n.current)return e()}),t),H((function(){return n.current=!1,function(){n.current=!0}}),[])};var J={},Q=g.default,Y=S.default;Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(e){var t=te.useRef(!1),n=te.useState(e),r=(0,ee.default)(n,2),i=r[0],o=r[1];return te.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){if(n&&t.current)return;o(e)}]};var ee=Y(F),te=Q(window.React);var ne=S.default;Object.defineProperty(A,"__esModule",{value:!0});var re=A.default=function(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,u=n.postState,a=(0,ae.default)((function(){return le(i)?i:le(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),l=(0,ie.default)(a,2),s=l[0],c=l[1],f=void 0!==i?i:s,d=u?u(f):f,v=(0,oe.default)(o),p=(0,ae.default)([f]),m=(0,ie.default)(p,2),g=m[0],y=m[1];(0,ue.useLayoutUpdateEffect)((function(){var e=g[0];s!==e&&v(s,e)}),[g]),(0,ue.useLayoutUpdateEffect)((function(){le(i)||c(i)}),[i]);var h=(0,oe.default)((function(e,t){c(e,t),y([f],t)}));return[d,h]},ie=ne(F),oe=ne(G),ue=X,ae=ne(J);function le(e){return void 0!==e}const se=window.React,ce=window.React.useEffect,fe=window.React.useState,de=window.React.forwardRef,ve=window.React.useImperativeHandle,pe="adm-stepper",me={step:1,disabled:!1,allowEmpty:!1};const ge=de((function(u,l){const c=e(me,u),{defaultValue:f=0,value:d,onChange:v,disabled:p,step:m,max:g,min:y,inputReadOnly:h,digits:b,stringMode:S,formatter:w,parser:N}=c,{locale:x}=t();ve(l,(()=>({focus:()=>{var e;null===(e=B.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=B.current)||void 0===e||e.blur()},get nativeElement(){var e,t;return null!==(t=null===(e=B.current)||void 0===e?void 0:e.nativeElement)&&void 0!==t?t:null}})));const E=e=>(void 0!==b?R(e.toString(),".",b):e).toString(),_=e=>S?e.toString():e.toNumber(),M=e=>null===e?"":w?w(e):E(e),[k,O]=re(f,{value:d,onChange:e=>{null==v||v(e)}}),[I,A]=fe((()=>M(k)));function F(e){if(e.isNaN())return;let t=e;if(void 0!==y){const e=j(y);t.lessEquals(e)&&(t=e)}if(void 0!==g){const e=j(g);e.lessEquals(t)&&(t=e)}void 0!==b&&(t=j(E(_(t)))),O(_(t))}const L=e=>{A(e);const t=(e=>{if(""===e)return null;if(N)return String(N(e));const t=j(e);return t.isInvalidate()?null:t.toString()})(e);null===t?c.allowEmpty?O(null):O(f):F(j(t))},[C,P]=fe(!1),B=se.useRef(null);function $(e){P(e),e&&A(null!=k?String(k):"")}ce((()=>{var e,t,n;C&&(null===(n=null===(t=null===(e=B.current)||void 0===e?void 0:e.nativeElement)||void 0===t?void 0:t.select)||void 0===n||n.call(t))}),[C]),ce((()=>{C||A(M(k))}),[C,k,b]);const T=e=>{let t=j(m);e||(t=t.negate()),F(j(null!=k?k:0).add(t.toString()))};return n(c,se.createElement("div",{className:r(pe,{[`${pe}-active`]:C})},se.createElement(i,{className:`${pe}-minus`,onClick:()=>{T(!1)},disabled:!!p||null!==k&&void 0!==y&&k<=y,fill:"none",shape:"rectangular",color:"primary","aria-label":x.Stepper.decrease},se.createElement(s,null)),se.createElement("div",{className:`${pe}-middle`},se.createElement(o,{ref:B,className:`${pe}-input`,onFocus:e=>{var t;$(!0),null===(t=c.onFocus)||void 0===t||t.call(c,e)},value:I,onChange:e=>{p||L(e)},disabled:p,onBlur:e=>{var t;$(!1),null===(t=c.onBlur)||void 0===t||t.call(c,e)},readOnly:h,role:"spinbutton","aria-valuenow":Number(I),"aria-valuemax":Number(g),"aria-valuemin":Number(y),inputMode:"decimal"})),se.createElement(i,{className:`${pe}-plus`,onClick:()=>{T(!0)},disabled:!!p||null!==k&&void 0!==g&&k>=g,fill:"none",shape:"rectangular",color:"primary","aria-label":x.Stepper.increase},se.createElement(a,null))))}));export{ge as S};
