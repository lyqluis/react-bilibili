import{aZ as e,V as n,O as l,K as a,M as t,j as r,s as o,p as i,I as c}from"./index-5222d580.js";import{I as s,B as u}from"./input-b261d64e.js";import{L as d}from"./index-fc3d5f27.js";const m=window.React;const h=window.React,v=window.React.useState,w=window.React.useRef,g=window.React.forwardRef,p=window.React.useImperativeHandle,f="adm-search-bar",C={clearable:!0,onlyShowClearWhenFocus:!1,showCancelButton:!1,defaultValue:"",clearOnCancel:!0,icon:h.createElement((function(e){return m.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),m.createElement("g",{id:"SearchOutline-SearchOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},m.createElement("g",{id:"SearchOutline-编组"},m.createElement("rect",{id:"SearchOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),m.createElement("path",{d:"M10.2434135,10.1505371 C17.2346315,3.28315429 28.5696354,3.28315429 35.5608534,10.1505371 C42.3159331,16.7859644 42.5440954,27.4048667 36.2453405,34.3093889 L43.7095294,41.6422249 C43.8671196,41.7970419 43.8693677,42.0502979 43.7145508,42.2078881 C43.7128864,42.2095822 43.7112069,42.2112616 43.7095126,42.2129259 L42.1705322,43.7246464 C42.014915,43.8775072 41.7655181,43.8775006 41.6099089,43.7246316 L34.0775268,36.3248916 L34.0775268,36.3248916 C27.0485579,41.8551751 16.7593545,41.4200547 10.2434135,35.0195303 C3.25219551,28.1521474 3.25219551,17.0179199 10.2434135,10.1505371 Z M12.3532001,12.2229532 C6.52718516,17.9457722 6.52718516,27.2242951 12.3532001,32.9471142 C18.1792151,38.6699332 27.6250517,38.6699332 33.4510667,32.9471142 C39.2770817,27.2242951 39.2770817,17.9457722 33.4510667,12.2229532 C27.6250517,6.50013419 18.1792151,6.50013419 12.3532001,12.2229532 Z",id:"SearchOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}),null)},x=g(((r,o)=>{const{locale:i}=e(),c=n(C,{cancelText:i.common.cancel},r),[d,m]=l(c),[g,x]=v(!1),b=w(null),j=w(!1);p(o,(()=>({clear:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.clear()},focus:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.focus()},blur:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.blur()},get nativeElement(){var e,n;return null!==(n=null===(e=b.current)||void 0===e?void 0:e.nativeElement)&&void 0!==n?n:null}})));return a(c,h.createElement("div",{className:t(f,{[`${f}-active`]:g})},h.createElement("div",{className:`${f}-input-box`},c.icon&&h.createElement("div",{className:`${f}-input-box-icon`},c.icon),h.createElement(s,{ref:b,className:t(`${f}-input`,{[`${f}-input-without-icon`]:!c.icon}),value:d,onChange:m,maxLength:c.maxLength,placeholder:c.placeholder,clearable:c.clearable,onlyShowClearWhenFocus:c.onlyShowClearWhenFocus,onFocus:e=>{var n;x(!0),null===(n=c.onFocus)||void 0===n||n.call(c,e)},onBlur:e=>{var n;x(!1),null===(n=c.onBlur)||void 0===n||n.call(c,e)},onClear:c.onClear,type:"search",enterKeyHint:"search",onEnterPress:()=>{var e,n;j.current||(null===(e=b.current)||void 0===e||e.blur(),null===(n=c.onSearch)||void 0===n||n.call(c,d))},"aria-label":i.SearchBar.name,onCompositionStart:()=>{j.current=!0},onCompositionEnd:()=>{j.current=!1}})),(()=>{let e;return e="function"==typeof c.showCancelButton?c.showCancelButton(g,d):c.showCancelButton&&g,e&&h.createElement("div",{className:`${f}-suffix`},h.createElement(u,{fill:"none",className:`${f}-cancel-button`,onClick:()=>{var e,n,l;c.clearOnCancel&&(null===(e=b.current)||void 0===e||e.clear()),null===(n=b.current)||void 0===n||n.blur(),null===(l=c.onCancel)||void 0===l||l.call(c)},onMouseDown:e=>{e.preventDefault()}},c.cancelText))})()))})),b=o.div`
	background: var(--color-background);
	font-size: var(--font-size-xm);
	font-weight: 300;
	padding-left: ${i`10px`};
	padding-right: ${i`10px`};
`,j=({list:e=[],onSelect:n,loading:l})=>{if(!l)return r.jsx(b,{children:r.jsx(d,{children:e.map((e=>r.jsx(d.Item,{arrow:!1,onClick:()=>n(e.value??e.term??e.name),children:r.jsx("span",{dangerouslySetInnerHTML:{__html:e.name}})},e.id??e.value??e.name)))})})};function E({words:e,onRemove:n,onClick:l}){return e.length?r.jsx(d,{children:e.map((e=>r.jsx(d.Item,{arrow:!1,onClick:()=>l(e),children:r.jsxs(S,{children:[r.jsx(c,{name:"history",className:"icon"}),e,r.jsx(c,{name:"x",className:"icon no-margin",onClick:l=>{l.preventDefault(),l.stopPropagation(),n(e)}})]})},e)))}):r.jsx("p",{children:"还未搜索"})}const S=o.div`
	display: grid;
	grid-template-columns: auto 1fr auto;
	align-items: center;
	line-height: 1;

	.icon {
		width: var(--font-size-m);
		height: var(--font-size-m);
		color: var(--color-font-grey);
		margin-right: 5px;
	}

	.no-margin {
		margin: 0;
	}
`;export{x as S,j as a,E as b};
